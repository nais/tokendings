<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="487px" preserveAspectRatio="none" style="width:1153px;height:487px;background:#FFFFFF;" version="1.1" viewBox="0 0 1153 487" width="1153px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="18" x2="18" y1="81.4883" y2="406.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="81.4883" y2="406.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="419" x2="419" y1="81.4883" y2="406.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="500" x2="500" y1="81.4883" y2="406.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="943.5" x2="943.5" y1="81.4883" y2="406.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="10" y="78.5352">ci</text><ellipse cx="18.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M18.5,21.5 L18.5,48.5 M5.5,29.5 L31.5,29.5 M18.5,48.5 L5.5,63.5 M18.5,48.5 L31.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="10" y="419.1289">ci</text><ellipse cx="18.5" cy="430.582" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M18.5,438.582 L18.5,465.582 M5.5,446.582 L31.5,446.582 M18.5,465.582 L5.5,480.582 M18.5,465.582 L31.5,480.582 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="42" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="49" y="70.5352">jwker</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="42" y="405.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="49" y="426.1289">jwker</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="47" x="398" y="46"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="47" x="394" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="401" y="70.5352">apps</text><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="47" x="398" y="405.5938"/><rect fill="#E2E2F0" height="30.4883" style="stroke:#181818;stroke-width:0.5;" width="47" x="394" y="409.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="401" y="430.1289">apps</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="455" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="462" y="70.5352">tokendings</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="455" y="405.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="462" y="426.1289">tokendings</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="904.5" y="78.5352">clientstore</text><path d="M925.5,29 C925.5,19 943.5,19 943.5,19 C943.5,19 961.5,19 961.5,29 L961.5,55 C961.5,65 943.5,65 943.5,65 C943.5,65 925.5,65 925.5,55 L925.5,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M925.5,29 C925.5,39 943.5,39 943.5,39 C943.5,39 961.5,39 961.5,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="904.5" y="419.1289">clientstore</text><path d="M925.5,432.082 C925.5,422.082 943.5,422.082 943.5,422.082 C943.5,422.082 961.5,422.082 961.5,432.082 L961.5,458.082 C961.5,468.082 943.5,468.082 943.5,468.082 C943.5,468.082 925.5,468.082 925.5,458.082 L925.5,432.082 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M925.5,432.082 C925.5,442.082 943.5,442.082 943.5,442.082 C943.5,442.082 961.5,442.082 961.5,432.082 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1146.5" x="0" y="112.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1146.5" y1="112.1436" y2="112.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1146.5" y1="115.1436" y2="115.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="139" x="503.75" y="101.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125" x="509.75" y="118.0566">Client Registration</text><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="109.5" y1="156.1094" y2="156.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="109.5" x2="109.5" y1="156.1094" y2="169.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="109.5" y1="169.1094" y2="169.1094"/><polygon fill="#181818" points="77.5,152.1094,67.5,156.1094,77.5,160.1094,73.5,156.1094" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="78.5,165.1094,68.5,169.1094,78.5,173.1094,74.5,169.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="74.5" y="151.3672">load a shared key from secret at startup</text><polygon fill="#181818" points="407.5,194.4199,417.5,198.4199,407.5,202.4199,411.5,198.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="18.5" x2="413.5" y1="198.4199" y2="198.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="25.5" y="193.6777">apply &#180;application&#180; resource to cluster</text><polygon fill="#181818" points="407.5,223.7305,417.5,227.7305,407.5,231.7305,411.5,227.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="413.5" y1="227.7305" y2="227.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="74.5" y="222.9883">Create jwks and k8s secret for application in cluster</text><polygon fill="#181818" points="488.5,268.3516,498.5,272.3516,488.5,276.3516,492.5,272.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="494.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="74.5" y="252.2988">POST /registration/client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="74.5" y="267.6094">with bearer token</text><path d="M505,245.3857 L505,270.3857 L1136,270.3857 L1136,255.3857 L1126,245.3857 L505,245.3857 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1126,245.3857 L1126,255.3857 L1136,255.3857 L1126,245.3857 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="610" x="511" y="262.9541">application jwks and signed softwarestatement using shared key (client_id, accessPolicy) as json</text><line style="stroke:#181818;stroke-width:1.0;" x1="500.5" x2="542.5" y1="316.9727" y2="316.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.5" x2="542.5" y1="316.9727" y2="329.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="501.5" x2="542.5" y1="329.9727" y2="329.9727"/><polygon fill="#181818" points="511.5,325.9727,501.5,329.9727,511.5,333.9727,507.5,329.9727" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="507.5" y="296.9199">authenticate jwker and verify signature</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="511.5" y="312.2305">on softwarestatement (keys loaded as secret on startup)</text><polygon fill="#181818" points="931.5,355.2832,941.5,359.2832,931.5,363.2832,935.5,359.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="500.5" x2="937.5" y1="359.2832" y2="359.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="507.5" y="354.541">store as oauth2 client with allowed grant_types and accessPolicies</text><polygon fill="#181818" points="78.5,384.5938,68.5,388.5938,78.5,392.5938,74.5,388.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="499.5" y1="388.5938" y2="388.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="84.5" y="383.8516">return json of registered client</text><!--SRC=[PPBFJkGm3CRlUGfhBe34QYHEguhXmWCiskM8X4pgTiAKfB9THdqlde0dMoSfK8PBq_onlvy_6xqc1Xy0nRvkHDRWmuXHuVbu8Cxdc_AtSJuD0taDAGhWE4gvop-RRt6Q3XJR4Flwu6kxSIqgFg4G-25GL35jScwtkorR-4jz46NC4hkTgm3NlsugIWD3mXOGP8zCBHneXexJ2mXv9WLK43MEQNJRCuX92JZqUsrWvF2AjiqHarYe9dWb3jqCkYUZ5EAi2MTRPrQOO2cloSimm_jRNeClNEzlm2HfOayvZHycKUA5TObiu9Of2zgfcH2DzRTyO7RczoeVXFWpoPTd3Tpz-NSFMrvPiwtkFSHZq3qyaRd1DSIjgrwBV898wACP8AdJeyMPOKelsVj9J6vjxNbLUGpj9Q3t97ANBDzyaRlwB2cwLQDFc74oNwDcTVgO8nDVFCyCg1CJF4Gmk9ymvmOWfTq6Wv_MvRUrmnSdugjvQg0iEInbZglb4efRE0pfQ4bxjb5zr7cawikgma1oadqPFqEOE9RQ8NLGMqBPhwhm7m00]--></g></svg>